<div class="mt-3 row flex-column">
  <strong class="col mb-3">{{ company ? 'Edit' : 'Add' }} Customer</strong>
  <div class="col mb-3">
    <p-steps [activeIndex]="activeIndex" [model]="items" [readonly]="true"></p-steps>
  </div>
  <form [formGroup]="editForm" *ngIf="editForm">
    <div class="col">
      <div class="nl-card nl-border nl-border-1">
        <ng-container *ngIf="activeIndex === 0">
          <div class="row gy-2 mb-3 p-fluid">
            <div class="col-6" [hidden]="!editForm.get('id')!.value">
              <label class="d-block" for="id">ID</label>
              <input type="text" formControlName="id" id="id" class="p-inputtext p-disabled" />
            </div>
            <div class="col-6">
              <label class="d-block" for="name">Name</label>
              <input
                (focusout)="checkNameExist($event)"
                type="text"
                formControlName="name"
                id="name"
                class="p-inputtext"
                nlShowErrorMsg />
              <small class="p-error" *ngIf="invalidName">Name already exists</small>
            </div>
            <div class="col-6">
              <label class="d-block" for="contactPerson">Contact Person</label>
              <input
                nlShowErrorMsg
                type="text"
                formControlName="contactPerson"
                id="contactPerson"
                class="p-inputtext" />
            </div>
            <div class="col-6">
              <label class="d-block" for="emailId">Email Id</label>
              <input
                (focusout)="checkEmailExist($event)"
                nlShowErrorMsg
                type="email"
                formControlName="email"
                id="emailId"
                class="p-inputtext" />
              <small class="p-error" *ngIf="invalidEmail">Email-id already exists</small>
            </div>
            <div class="col-6">
              <label class="d-block" for="address">Address</label>
              <input
                nlShowErrorMsg
                type="text"
                formControlName="address"
                id="address"
                class="p-inputtext" />
            </div>
            <div class="col-6">
              <label class="d-block" for="contactNumber1">Contact Number</label>
              <input
                nlShowErrorMsg
                type="text"
                formControlName="contactNumber1"
                id="contactNumber1"
                class="p-inputtext" />
            </div>
            <div class="col-6">
              <label class="d-block" for="status">Status</label>
              <p-dropdown
                nlShowErrorMsg
                [attr.id]="'status'"
                formControlName="status"
                [options]="statusList"
                placeholder="Select status">
              </p-dropdown>
            </div>
            <div class="col-6">
              <label class="d-block" for="companyType">Account Type</label>
              <p-dropdown
                nlShowErrorMsg
                [attr.id]="'companyType'"
                formControlName="companyType"
                [options]="accountTypes"
                placeholder="Select account type"></p-dropdown>
            </div>
            <div class="col-6">
              <label class="d-block" for="partnerType">Partner Type</label>
              <p-dropdown
                nlShowErrorMsg
                [attr.id]="'partnerType'"
                formControlName="partnerType"
                [options]="partnerTypes"
                placeholder="Select Partner Type"></p-dropdown>
            </div>
          </div>
          <div class="row justify-content-end">
            <div class="col-3 d-block d-flex justify-content-around">
              <button type="button" class="p-button" (click)="goBack()">Cancel</button>
              <button type="button" class="p-button" (click)="save()">Save</button>
            </div>
          </div>
        </ng-container>
        <ng-container *ngIf="activeIndex === 1">
          <div class="row gy-2 mb-3 p-fluid">
            <div class="col-6">
              <label class="d-block" for="branding">Branding</label>
              <p-dropdown
                *ngIf="branding$ | async as branding"
                [id]="'branding'"
                formControlName="brandingId"
                [options]="branding"
                placeholder="Select branding">
              </p-dropdown>
            </div>
            <div class="col-6">
              <label class="d-block" for="uploadDoc">Upload Images/ Documents</label>
              <p-fileUpload
                mode="basic"
                chooseLabel="Choose File"
                accept="image/*"
                [maxFileSize]="1000000"
                (onSelect)="onUpload($event)"></p-fileUpload>
            </div>
          </div>
          <div class="row justify-content-end">
            <div class="col-3 d-block d-flex justify-content-around">
              <button type="button" class="p-button" (click)="activeIndex = 0">Back</button>
              <button type="button" class="p-button" (click)="save2()">Save</button>
            </div>
          </div>
        </ng-container>
        <!--card end-->
      </div>
    </div>
  </form>
</div>
