<nl-spinner [name]="spinnerName"></nl-spinner>
<div class="mt-3 row flex-column">
  <strong class="col mb-3">{{ assessmentByGroup ? 'Edit' : 'Add' }} Assessment Group</strong>
  <ng-container [formGroup]="editForm" *ngIf="editForm">
    <div class="col">
      <div class="row">
        <div class="col">
          <div class="nl-card nl-border nl-border-1">
            <div class="row gy-3 mb-3 p-fluid">
              <div class="col-6">
                <label class="d-block" for="assessmentName">Assessment Name</label>
                <input type="text" formControlName="name" id="assessmentName" class="p-inputtext" />
                <small
                  *ngIf="editForm.controls['name'].invalid && editForm.controls['name'].dirty"
                  class="p-error">
                  <div *ngIf="editForm.controls['name'].errors?.['required']">
                    Assessment Name is required.
                  </div>
                  <div *ngIf="editForm.controls['name'].errors?.['maxlength']">
                    This field cannot be longer than 75 characters.
                  </div>
                </small>
              </div>
              <div class="col-6">
                <label class="d-block" for="desc">Description</label>
                <input type="text" formControlName="description" id="desc" class="p-inputtext" />
                <small
                  *ngIf="
                    editForm.controls['description'].invalid &&
                    editForm.controls['description'].dirty
                  "
                  class="p-error">
                  <div *ngIf="editForm.controls['description'].errors?.['required']">
                    Description is required.
                  </div>
                  <div *ngIf="editForm.controls['description'].errors?.['maxlength']">
                    This field cannot be longer than 75 characters.
                  </div>
                </small>
              </div>
              <div class="col-6">
                <label class="d-block" for="displayName">Display Name</label>
                <input
                  type="text"
                  formControlName="displayName"
                  id="displayName"
                  class="p-inputtext" />
                <small
                  *ngIf="
                    editForm.controls['displayName'].invalid &&
                    editForm.controls['displayName'].dirty
                  "
                  class="p-error">
                  <div *ngIf="editForm.controls['displayName'].errors?.['required']">
                    Display Name is required.
                  </div>
                  <div *ngIf="editForm.controls['displayName'].errors?.['maxlength']">
                    This field cannot be longer than 75 characters.
                  </div>
                </small>
              </div>
              <div class="col-6">
                <label class="d-block" for="resultGenerator">Result Generator</label>
                <input
                  type="text"
                  formControlName="resultGenerator"
                  id="resultGenerator"
                  class="p-inputtext" />
                <small
                  *ngIf="
                    editForm.controls['resultGenerator'].invalid &&
                    editForm.controls['resultGenerator'].dirty
                  "
                  class="p-error">
                  <div *ngIf="editForm.controls['resultGenerator'].errors?.['required']">
                    Result Generator is required.
                  </div>
                </small>
              </div>
              <div class="col-6">
                <label class="d-block" for="instructions">Instructions</label>
                <input
                  type="text"
                  formControlName="instructions"
                  id="instructions"
                  class="p-inputtext" />
                <small
                  *ngIf="
                    editForm.controls['instructions'].invalid &&
                    editForm.controls['instructions'].dirty
                  "
                  class="p-error">
                  <div *ngIf="editForm.controls['instructions'].errors?.['required']">
                    Instructions is required.
                  </div>
                </small>
              </div>
              <div class="col-6">
                <label class="d-block" for="landingPage">Landing Page</label>
                <input
                  type="text"
                  formControlName="landingPage"
                  id="landingPage"
                  class="p-inputtext" />
                <small
                  *ngIf="
                    editForm.controls['landingPage'].invalid &&
                    editForm.controls['landingPage'].dirty
                  "
                  class="p-error">
                  <div *ngIf="editForm.controls['landingPage'].errors?.['required']">
                    Landing Page is required.
                  </div>
                </small>
              </div>
              <div class="col-6">
                <label class="d-block" for="price">Price</label>
                <input type="text" formControlName="price" id="price" class="p-inputtext" />
                <small
                  *ngIf="editForm.controls['price'].invalid && editForm.controls['price'].dirty"
                  class="p-error">
                  <div *ngIf="editForm.controls['price'].errors?.['required']">
                    Price is required.
                  </div>
                </small>
              </div>

              <div class="col-6" *ngIf="demographicsDropDown$ | async as demographicsDropDown">
                <label class="d-block" for="demographics">Demographics</label>
                <p-multiSelect
                  [options]="demographicsDropDown"
                  formControlName="demographics"
                  placeholder="Select demographics"></p-multiSelect>
              </div>
            </div>

            <div class="row justify-content-end">
              <div class="col-3 d-block d-flex justify-content-around">
                <button type="button" class="p-button" (click)="goBack()">Cancel</button>
                <button type="button" class="p-button" (click)="save()">Save</button>
              </div>
            </div>
          </div>
          <!--card end-->
        </div>
      </div>
    </div>
  </ng-container>
</div>
